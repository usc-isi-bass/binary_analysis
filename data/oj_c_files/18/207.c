#include <ctype.h>
#include <errno.h>
#include <float.h>
#include <iso646.h>
#include <limits.h>
#include <locale.h>
#include <math.h>
#include <setjmp.h>
#include <signal.h>
#include <stdarg.h>
#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

/**
*@file		1000012767_1.cpp
*@author	??
*@date		2010.12.01
*@description
*			????????????????
*/

int g_a;					//???? g_a ????
int g_Matrix[100][100];		//???? g_Matrix ???????

int Operation(int);			//Operation ?????????
void lineDel(int);			//lineDel ?????
void rowDel(int);			//rowDel ?????
void Transform(int);		//Transform ??????

void lineDel(int times)
//?????
							//times ???????????????????????????
{
	int i, j, min, post;	//min ?????????post ???????????
	for (i = 1; i <= times; i++)	//??????
	{
		min = g_Matrix[i][1];		//?????????
		post = 1;
		for (j = 1; j <= times; j++)	//????????????????
		{
			if (g_Matrix[i][j] < min)
			{
				min = g_Matrix[i][j];
				post = j;
			}
		}
		g_Matrix[0][j] = 0;				//????????????????????????? 0???????????????????
		for (j = 1; j <= times; j++)	//???
			g_Matrix[i][j] -= min;
	}
}

void rowDel(int times)
//?????
							//times ???????????????????????????
{
	int i, j, min, post;	//min ?????????post ???????????
	for (j = 1; j <= times; j++)	//??????
	{
		if (g_Matrix[0][j])			//??? 0 ??????????
		{
			min = g_Matrix[1][j];	//?????????
			post = 1;
			for (i = 1; i <= times; i++)	//????????????????
			{
				if (g_Matrix[i][j] < min)
				{
					min = g_Matrix[i][j];
					post = i;
				}
			}
			for (i = 1; i <= times; i++)	//???
				g_Matrix[i][j] -= min;
		}
	}
}

void Transform(int times)
//??????
							//times ???????????????????????????? 1
{
	int i, j;
	for (i = 1; i <= times; i++)		//????????????????
	{									//???????????????
		for (j = 1; j <= times; j++)
		{
			if (i == 1 && j > 1)
				g_Matrix[i][j] = g_Matrix[i][j + 1];	//???????????
			if (j == 1 && i > 1)
				g_Matrix[i][j] = g_Matrix[i + 1][j];	//???????????
			if (i > 1 && j > 1)
				g_Matrix[i][j] = g_Matrix[i + 1][j + 1];	//???????????????
		}
	}
}

int Operation(int times)
//?????????
//?????????????? [1][1] ????????
							//times ??????????
{
	int j, num;
	if (times != 1)			//????? 1 * 1 ?????
	{
		for (j = 1; j <= times; j++)	//?? 0 ?????
			g_Matrix[0][j] = 1;
		lineDel(times);					//???
		rowDel(times);					//???
		num = g_Matrix[2][2];			//????? [1][1] ??????
		Transform(times - 1);			//????
		return num + Operation(times - 1);	//????????? [1][1] ?????????????????
	}
	else
		return 0;						//?????? 1 * 1 ????
}

int main()
{
	int n, i, j;
	cin >> n;
	g_a = n;
	while (n--)
	{
		for (i = 1; i <= g_a; i++)		//????
			for (j = 1; j <= g_a; j++)
				cin >> g_Matrix[i][j];
		cout << Operation(g_a) << endl;	//????
	}
	return 0;
}