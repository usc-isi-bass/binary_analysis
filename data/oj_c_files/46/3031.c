#include <ctype.h>
#include <errno.h>
#include <float.h>
#include <iso646.h>
#include <limits.h>
#include <locale.h>
#include <math.h>
#include <setjmp.h>
#include <signal.h>
#include <stdarg.h>
#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

//********************************
//*???????????
//*??? ?? 1300012814  **
//*???2013.10,30  **
//********************************
int main()
{
	int a[101][101], row, col, num = 0, m = 1, n = 0;               //?????row????col????num????????????m?????????n????????

	cin >> row  >>col;                                               //??????
	for (int i = 0; i <= row + 1;i++)
	{
		for (int j = 0; j <= col + 1; j++)
		{
			if (i == 0||j == 0||i == row + 1||j == col +1)
				a[i][j] = 0;
			else  cin >> a[i][j];
		}
	}                                                               //????????????????????????????0
	int i = 1, j = 1;                                              
	while (num < col * row)                                         //???????????????
	{
	cout << a[i][j] <<endl;
	a[i][j] = 0;
	num++;                                                         //??a[i][j]??????num++???????????0
	if (a[i + n][m + j] == 0)                                      //??????????0?????????
	{
  if (m != 0)
  {
   n = m;
   m = 0;
  }                                                                //m?????????????????????
  else
  {
  m = -n;
  n = 0;
  }                                                                //n?????????????????????
	} 
  i = i + n;               
  j = j + m;                                                       //???????????
		}

	return 0;
}