#include <ctype.h>
#include <errno.h>
#include <float.h>
#include <iso646.h>
#include <limits.h>
#include <locale.h>
#include <math.h>
#include <setjmp.h>
#include <signal.h>
#include <stdarg.h>
#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

//********************************
//*???????????   **
//*?????? 1300012957 **
//*???2013.11.12  **
//********************************
int main ( )
{
	int array[100][100];              //????????????????        
	int row, col;                     //row?????col????
	cin >> row >> col;     
	int i,j,k,a,b,c,d;                //k?????ij???????a,b,c,d??????????
	int A=0,B=0,C=0;                  //A?B?C?????????????????
	int sum=0;                        //sum ???????????????
	for( i = 0 ; i <= row - 1 ; i++ )
	{
		for( j = 0 ; j <= col - 1 ; j++ )
		{
			cin >> array[i][j] ;      //??????
		}
	}
	for( k = 0 ; ; k++ )               //?k?????
	{
		for( a = k ; a <= col - k - 1 ; a++ ) 
		{
			cout << array[k][a] << endl ;      //???k+1? ?a+1???
			sum++ ;                            //sum????
			if( a == col - k - 1 )
				A = array[k][a] ;               //?????????????????????
		}
		if( sum == row * col )
			break ;                            //?????????????????????????????
		for( b = k ; b <= row - k - 1 ; b++ )
		{
			if( array[b][col-k-1] == A )
				continue ;                      //???????????
			cout << array[b][col-k-1] << endl ; //???k+1??b+1???
			sum++ ;                            //sum??????????
			if(b == row - k - 1 )     
				B = array[b][col-k-1] ;         //????????????????????
		}
		if( sum == row * col )
			break;                              //?????????????????????????????        
		for( c = col - k - 1 ; c >= k ; c-- )
		{
			if( array[row-k-1][c] == B )
				continue ;                     //??????????? 
			cout << array[row-k-1][c] << endl ;
			sum++ ;                            //sum??????????
			if( c == k )
				C = array[row-k-1][c] ;       //????????????????????
		}
		if( sum == row * col )
			break ;                            //?????????????????????????????
		for( d = row - k - 1 ; d >= k+1 ; d-- )
		{
			if( array[d][k] == C )
				continue ;                    //???????????
			cout << array[d][k] << endl ;
			sum++ ;                           //sum??????????
		}
		if( sum == row*col )
			break ;                            //?????????????????????????????
	}
	return 0 ;
}